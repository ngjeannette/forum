(this.webpackJsonpforum=this.webpackJsonpforum||[]).push([[0],{14:function(e,t,a){},38:function(e,t,a){e.exports=a(67)},43:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),s=(a(43),a(5)),i=a(3),u=a(4),o=a.n(u),m=a(10),d=a(2),E=(a(14),a(7)),p=a.n(E),f=a(6),v=function(e){return{type:"SELECTED_USER_QUESTIONID",payload:e}};var b=function(){return r.a.createElement("button",{className:"button is-loading is-large is-outlined is-primary"},"Loading button")},g=function(e){var t=e.isLoading,a=e.children;return t?r.a.createElement("div",{className:"loaderWrapper"},r.a.createElement(b,null)):r.a.createElement(r.a.Fragment,null,a)},h=function(e){var t=e.items,a=e.sendIndividualQ;return r.a.createElement("div",{className:"card-container"},t.length>0?t.map((function(e,t){return r.a.createElement("div",{className:"card",onClick:function(){a(e._id,e.userID)},key:t},e.image.length>0&&r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:e.image[0].location,alt:e.image[0].originalname}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},e.username))),r.a.createElement("div",{className:"content"},e.question),r.a.createElement("div",{className:"content"},r.a.createElement("time",{dateTime:e.updatedAt.substring(0,10)},e.updatedAt.substring(0,10)))))})):r.a.createElement("div",{className:"notification"},r.a.createElement("p",null,r.a.createElement("strong",null,"Currently, you haven't created any questions, click here to "),r.a.createElement(s.b,{to:"/createQ"}," Create Question "))))};h.displayName="Questions";var N=h,O=function(e){return function(t){return t.isLoading?r.a.createElement("div",{className:"loaderWrapper"},r.a.createElement(b,null)):r.a.createElement(e,t)}},j=O(N);var w=function(){Object(n.useEffect)((function(){h()}),[]);var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(f.b)(),s=Object(i.e)(),u=Object(n.useState)(!1),E=Object(d.a)(u,2),b=E[0],g=E[1];Object(n.useEffect)((function(){}),[a,b]);var h=function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,p.a.get("/getDisplayAll");case 4:t=e.sent,c(t.data),g(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0,"err");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Home"),r.a.createElement(j,{isLoading:b,items:a,sendIndividualQ:function(e,t){l(v({_id:e,userID:t})),s.push("/userQindividual")}}))};var y=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(d.a)(l,2),i=s[0],u=s[1],E=Object(n.useState)(!1),f=Object(d.a)(E,2),v=f[0],b=f[1];Object(n.useEffect)((function(){}),[a,i]);var g=function(){var e={username:a,password:i};return p.a.get("/checkduplicatesignup",{params:e})},h=function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:a=e.sent,b(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0,"err");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form"},r.a.createElement("h1",null,"Signup"),r.a.createElement("form",{className:"field",onSubmit:function(e){e.preventDefault(),h()}},r.a.createElement("label",{className:"label"},"Create Username"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Text input",required:!0,onChange:function(e){c(e.target.value)}})),r.a.createElement("label",{className:"label"},"Create Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Text input",required:!0,onChange:function(e){u(e.target.value)}})),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-primary"},"Submit"))),v&&r.a.createElement("div",{className:"notification is-primary"},r.a.createElement("strong",null,v)))};var x=function(){var e=Object(i.e)(),t=Object(f.b)(),a=Object(n.useState)(""),c=Object(d.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),E=Object(d.a)(u,2),v=E[0],b=E[1],g=Object(n.useState)(!1),h=Object(d.a)(g,2),N=h[0],O=h[1],j=function(){var e={username:l,password:v};return p.a.get("/login",{params:e})},w=function(){var a=Object(m.a)(o.a.mark((function a(n){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j();case 3:r=a.sent,Array.isArray(r.data)>0?(t({type:"UPDATE_USER",payload:r.data}),e.push("/")):O(r.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0,"err");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"form"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{className:"field",onSubmit:function(e){e.preventDefault(),w()}},r.a.createElement("label",{className:"label"},"Enter Username"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Text input",required:!0,onChange:function(e){s(e.target.value)}})),r.a.createElement("label",{className:"label"},"Enter Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Text input",required:!0,onChange:function(e){b(e.target.value)}})),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-primary"},"Submit"))),N&&r.a.createElement("div",{className:"notification is-primary"},r.a.createElement("strong",null,N)))};var k=function(){var e=Object(i.e)(),t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)([]),u=Object(d.a)(s,2),o=u[0],m=u[1],E=Object(f.c)((function(e){return e.loginInfoReducer}));return Object(n.useEffect)((function(){}),[c,o,E]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"New Story"),r.a.createElement("form",{onSubmit:function(t){!function(t){t.preventDefault();var a=new FormData;a.append("image",o[0]),a.set("userID",E[0]._id),a.set("username",E[0].username),a.set("question",c),p()({method:"post",url:"/createQ",data:a}).then((function(t){e.push("/userQ")})).catch((function(e){console.log(e)}))}(t)}},r.a.createElement("label",{className:"label"},"New Question"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{rows:2,name:"testing",className:"textarea",onChange:function(e){l(e.target.value)},placeholder:"Add question",required:!0})),r.a.createElement("div",{className:"control"},r.a.createElement("input",{accept:"image/*",type:"file",name:"image",className:"input is-primary",onChange:function(e){m(e.target.files)}})),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-primary",type:"submit"},"Submit"))))},S=O(N);var _=function(){var e=Object(f.c)((function(e){return e.loginInfoReducer})),t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],l=a[1],s=Object(i.e)(),u=Object(f.b)(),E=Object(n.useState)([]),b=Object(d.a)(E,2),g=b[0],h=b[1];Object(n.useEffect)((function(){}),[c]),Object(n.useEffect)((function(){e.length>0&&N()}),[e]);var N=function(){var t=Object(m.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={userID:e[0]._id},t.prev=1,l(!0),t.next=5,p.a.get("/getUserQ",{params:a});case 5:n=t.sent,h(n.data),l(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0,"err");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Your Question"),r.a.createElement(S,{isLoading:c,items:g,sendIndividualQ:function(e,t){u(v({_id:e,userID:t})),s.push("/userQindividual")}}))},I=a(22),D=function(e){var t=e.item,a=e.deleteItem,n=e.displayDelete,c=e.index;return r.a.createElement("div",{key:"".concat(c,"-100")},n&&r.a.createElement("button",{className:"button is-danger",onClick:function(){a()}},"Delete Question"),r.a.createElement("p",null,"Asked by ",r.a.createElement("strong",null,t.username)),t.image.length>0&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:t.image[0].location,alt:t.image[0].originalname})))))},A=function(e){var t=e.liked,a=e.onClick;e.index;return a?t?r.a.createElement("div",{className:"likeAnswer"},r.a.createElement("button",{onClick:a,className:"button icon ".concat(t&&"has-text-danger")},r.a.createElement("i",{className:"fa fa-heart","aria-hidden":"true"})),r.a.createElement("p",null,"Answer Liked ! ")):r.a.createElement("div",{className:"likeAnswer"},r.a.createElement("button",{onClick:a,className:"button icon ".concat(t&&"has-text-danger")},r.a.createElement("i",{className:"fa fa-heart","aria-hidden":"true"})),r.a.createElement("p",null,"Click to like answer")):t?r.a.createElement("div",{className:"answerLiked"},r.a.createElement("span",{className:"icon has-text-danger"}," ",r.a.createElement("i",{className:"fa fa-heart","aria-hidden":"true"})),r.a.createElement("p",null,"Liked by owner")):null},Q=function(e){var t=e.answer,a=e.index,n=e.onClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{liked:t.liked,onClick:n,index:a}),r.a.createElement("div",null,r.a.createElement("h3",null,t.answer)),r.a.createElement("div",null,r.a.createElement("p",null,"Answered by ",r.a.createElement("strong",null,t.answerUsername))),r.a.createElement("time",{dateTime:t.createdAt.substring(0,10)},t.createdAt.substring(0,10)),t.image.length>0&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:t.image[0].location,alt:t.image[0].originalname})))))},C=function(e){var t=e.displayPost,a=e.index,n=e.isLoggedIn,c=e.submitAnswer,l=e.textareaValue,i=e.setTextareaValue,u=e.setAnswer,o=e.setImage,m=e.setImageValue,d=e.imageValue;return t?r.a.createElement("div",{className:"answers",key:a},r.a.createElement("form",{onSubmit:function(e){c(e)}},r.a.createElement("label",{className:"label"},"Post Answer"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{rows:2,name:"image",className:"textarea",value:l,onChange:function(e){i(e.target.value),u(e.target.value)},placeholder:"Add question"})),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-primary",accept:"image/*",type:"file",name:"image",value:d,onChange:function(e){o(e.target.files),m(e.target.value)}})),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-primary",type:"submit"},"Submit")))):n?r.a.createElement("div",{className:"notification is-info"},r.a.createElement(s.b,{to:"/signup"},"Sign Up "),"or",r.a.createElement(s.b,{to:"/signup"}," login "),"to post an answer"):null};var T=function(){var e=Object(i.e)(),t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)([]),u=Object(d.a)(s,2),E=u[0],v=u[1],b=Object(n.useState)([]),h=Object(d.a)(b,2),N=h[0],O=h[1],j=Object(n.useState)(""),w=Object(d.a)(j,2),y=w[0],x=w[1],k=Object(n.useState)(!1),S=Object(d.a)(k,2),_=S[0],A=S[1],T=Object(n.useState)(""),U=Object(d.a)(T,2),L=U[0],q=U[1],R=Object(n.useState)(null),P=Object(d.a)(R,2),F=P[0],V=P[1],Y=Object(f.c)((function(e){return e.createQuestionReducer})),W=Object(f.c)((function(e){return e.loginInfoReducer}));Object(n.useEffect)((function(){Y&&X()}),[]),Object(n.useEffect)((function(){}),[N,F]);var X=function(){var e=Object(m.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),t={_id:Y._id},a={questionID:Y._id},e.next=7,p.a.get("/getindividualQ",{params:t});case 7:return n=e.sent,e.next=10,p.a.get("/getAnswer",{params:a});case 10:r=e.sent,V(n.data),O(Object(I.a)(r.data)),A(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0,"err");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={questionID:Y._id},e.next=4,p.a.get("/getAnswer",{params:t});case 4:a=e.sent,O(Object(I.a)(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0,"err");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var t=Object(m.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={_id:Y._id},t.prev=1,t.next=4,p.a.post("/removeIndividualQ",a);case 4:e.push("/userQ"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0,"err");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),H=function(e){e.preventDefault();var t=new FormData;t.append("image",E[0]),t.set("questionID",Y._id),t.set("questionUserID",Y.userID),t.set("answerUsername",W[0].username),t.set("answerUserID",W[0]._id),t.set("answer",c),t.set("liked",!1),p()({method:"post",url:"/createAnswer",data:t}).then((function(e){O([].concat(Object(I.a)(N),[e.data])),l(""),v([]),x(""),q("")})).catch((function(e){console.log(e)}))},J=function(){var e=Object(m.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._id,n=t.liked,r={_id:a,liked:!n},e.prev=2,e.next=5,p.a.post("/updateLiked",r);case 5:M(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0,"err");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{isLoading:_},r.a.createElement("div",{className:"question-answer-card"},r.a.createElement("h1",null,null!==F&&F.length>0&&F[0].question),null!==F&&F.map((function(e,t){return r.a.createElement("div",{key:t,className:"userQindividual"},r.a.createElement(D,{item:e,index:t,deleteItem:B,displayDelete:W.length>0&&e.userID===W[0]._id}),r.a.createElement(C,{displayPost:W.length>0&&e.userID!==W[0]._id,submitAnswer:H,textareaValue:y,setTextareaValue:x,setAnswer:l,setImage:v,setImageValue:q,imageValue:L,isLoggedIn:0===W.length,index:t}))})),N.length>0&&N.map((function(e,t){return r.a.createElement("div",{className:"answers",key:t},r.a.createElement(Q,{answer:e,index:t,onClick:W.length>0&&e.questionUserID===W[0]._id?function(){J(e)}:null}))})))))};var U=function(){var e=Object(i.e)(),t=Object(f.b)(),a=Object(f.c)((function(e){return e.loginInfoReducer}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("div",{className:"navbar-start"},r.a.createElement("a",{className:"navbar-item",target:"_blank",rel:"noopener noreferrer",href:"https://flaviocopes.com/sample-app-ideas/"},"Project 12"),r.a.createElement(s.b,{to:"/",className:"navbar-item"},"Home"),a.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/createQ",className:"navbar-item"},"New Question"),r.a.createElement(s.b,{to:"/userQ",className:"navbar-item"},"Your Questions")),r.a.createElement(s.b,{to:"/signup",className:"navbar-item"},"Sign Up"),r.a.createElement(s.b,{to:"/login",className:"navbar-item"},"Login"),a.length>0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement(s.b,{to:"/",className:"navbar-item",onClick:function(){!function(){var a;t({type:"UPDATE_EMPTY",payload:a}),e.push("/")}()}},"Log Out")),a.length>0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"navbar-item"},a[0].username)))))};var L=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"main"},r.a.createElement(U,null),r.a.createElement("div",{className:"content"},r.a.createElement(i.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(w,Object.assign({},e,{isAuthed:!0}))}}),r.a.createElement(i.a,{path:"/signup",render:function(e){return r.a.createElement(y,Object.assign({},e,{isAuthed:!0}))}}),r.a.createElement(i.a,{path:"/login",render:function(e){return r.a.createElement(x,Object.assign({},e,{isAuthed:!0}))}}),r.a.createElement(i.a,{path:"/createQ",render:function(e){return r.a.createElement(k,Object.assign({},e,{isAuthed:!0}))}}),r.a.createElement(i.a,{path:"/userQ",render:function(e){return r.a.createElement(_,Object.assign({},e,{isAuthed:!0}))}}),r.a.createElement(i.a,{path:"/userQindividual",render:function(e){return r.a.createElement(T,Object.assign({},e,{isAuthed:!0}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=a(16),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER":return t.payload;case"UPDATE_EMPTY":return[];default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_USER_QUESTIONID":return t.payload;case"SELECTED_USER_QUESTIONID_EMPTY":return"";default:return e}},F=Object(q.b)({loginInfoReducer:R,createQuestionReducer:P}),V=Object(q.c)(F,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(f.a,{store:V},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.d2ae85b4.chunk.js.map